<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>COMPLETE_LEARNING_GUIDE</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown-light.min.css" />
</head>
<body>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#gonftme---complete-learning-guide"
id="toc-gonftme---complete-learning-guide">GoNFTme - Complete Learning
Guide</a>
<ul>
<li><a href="#table-of-contents" id="toc-table-of-contents">üìö Table of
Contents</a></li>
<li><a href="#technology-stack-overview"
id="toc-technology-stack-overview">üõ†Ô∏è Technology Stack Overview</a>
<ul>
<li><a href="#frontend-technologies"
id="toc-frontend-technologies"><strong>Frontend
Technologies</strong></a></li>
<li><a href="#web3-blockchain-technologies"
id="toc-web3-blockchain-technologies"><strong>Web3 &amp; Blockchain
Technologies</strong></a></li>
<li><a href="#smart-contract-technologies"
id="toc-smart-contract-technologies"><strong>Smart Contract
Technologies</strong></a></li>
<li><a href="#authentication-security"
id="toc-authentication-security"><strong>Authentication &amp;
Security</strong></a></li>
<li><a href="#development-testing-tools"
id="toc-development-testing-tools"><strong>Development &amp; Testing
Tools</strong></a></li>
<li><a href="#utility-libraries"
id="toc-utility-libraries"><strong>Utility Libraries</strong></a></li>
</ul></li>
<li><a href="#high-level-application-overview"
id="toc-high-level-application-overview">üèóÔ∏è High-Level Application
Overview</a>
<ul>
<li><a href="#what-is-gonftme" id="toc-what-is-gonftme"><strong>What is
GoNFTme?</strong></a></li>
<li><a href="#core-value-propositions"
id="toc-core-value-propositions"><strong>Core Value
Propositions</strong></a></li>
</ul></li>
<li><a href="#deep-dive-how-the-application-works"
id="toc-deep-dive-how-the-application-works">üîç Deep Dive: How the
Application Works</a>
<ul>
<li><a href="#smart-contract-architecture"
id="toc-smart-contract-architecture"><strong>1. Smart Contract
Architecture</strong></a></li>
<li><a href="#frontend-architecture"
id="toc-frontend-architecture"><strong>2. Frontend
Architecture</strong></a></li>
<li><a href="#data-flow-architecture"
id="toc-data-flow-architecture"><strong>3. Data Flow
Architecture</strong></a></li>
<li><a href="#blockchain-integration-deep-dive"
id="toc-blockchain-integration-deep-dive"><strong>4. Blockchain
Integration Deep Dive</strong></a></li>
<li><a href="#nft-system-architecture"
id="toc-nft-system-architecture"><strong>5. NFT System
Architecture</strong></a></li>
<li><a href="#authentication-security-architecture"
id="toc-authentication-security-architecture"><strong>6. Authentication
&amp; Security Architecture</strong></a></li>
<li><a href="#image-storage-ipfs-integration"
id="toc-image-storage-ipfs-integration"><strong>7. Image Storage &amp;
IPFS Integration</strong></a></li>
</ul></li>
<li><a href="#project-structure-architecture"
id="toc-project-structure-architecture">üèõÔ∏è Project Structure &amp;
Architecture</a>
<ul>
<li><a href="#root-directory-structure"
id="toc-root-directory-structure"><strong>Root Directory
Structure</strong></a></li>
<li><a href="#architecture-principles"
id="toc-architecture-principles"><strong>Architecture
Principles</strong></a></li>
</ul></li>
<li><a href="#complete-file-reference"
id="toc-complete-file-reference">üìÅ Complete File Reference</a>
<ul>
<li><a href="#app-directory---next.js-pages-api-routes"
id="toc-app-directory---next.js-pages-api-routes"><strong><code>app/</code>
Directory - Next.js Pages &amp; API Routes</strong></a></li>
<li><a href="#components-directory---reusable-ui-components"
id="toc-components-directory---reusable-ui-components"><strong><code>components/</code>
Directory - Reusable UI Components</strong></a></li>
<li><a href="#lib-directory---core-libraries"
id="toc-lib-directory---core-libraries"><strong><code>lib/</code>
Directory - Core Libraries</strong></a></li>
<li><a href="#utils-directory---utility-functions"
id="toc-utils-directory---utility-functions"><strong><code>utils/</code>
Directory - Utility Functions</strong></a></li>
<li><a href="#contracts-directory---smart-contracts"
id="toc-contracts-directory---smart-contracts"><strong><code>contracts/</code>
Directory - Smart Contracts</strong></a></li>
<li><a href="#config-directory---configuration-files"
id="toc-config-directory---configuration-files"><strong><code>config/</code>
Directory - Configuration Files</strong></a></li>
<li><a href="#scripts-directory---automation-scripts"
id="toc-scripts-directory---automation-scripts"><strong><code>scripts/</code>
Directory - Automation Scripts</strong></a></li>
<li><a href="#test-e2e-directories---testing"
id="toc-test-e2e-directories---testing"><strong><code>test/</code> &amp;
<code>e2e/</code> Directories - Testing</strong></a></li>
<li><a href="#types-directory---typescript-definitions"
id="toc-types-directory---typescript-definitions"><strong><code>types/</code>
Directory - TypeScript Definitions</strong></a></li>
</ul></li>
<li><a href="#security-best-practices"
id="toc-security-best-practices">üîí Security &amp; Best Practices</a>
<ul>
<li><a href="#smart-contract-security"
id="toc-smart-contract-security"><strong>Smart Contract
Security</strong></a></li>
<li><a href="#frontend-security"
id="toc-frontend-security"><strong>Frontend Security</strong></a></li>
<li><a href="#owasp-top-10-compliance"
id="toc-owasp-top-10-compliance"><strong>OWASP Top 10
Compliance</strong></a></li>
</ul></li>
<li><a href="#deployment-production-considerations"
id="toc-deployment-production-considerations">üöÄ Deployment &amp;
Production Considerations</a>
<ul>
<li><a href="#environment-setup"
id="toc-environment-setup"><strong>Environment Setup</strong></a></li>
<li><a href="#deployment-checklist"
id="toc-deployment-checklist"><strong>Deployment
Checklist</strong></a></li>
<li><a href="#performance-optimization"
id="toc-performance-optimization"><strong>Performance
Optimization</strong></a></li>
<li><a href="#monitoring-maintenance"
id="toc-monitoring-maintenance"><strong>Monitoring &amp;
Maintenance</strong></a></li>
</ul></li>
<li><a href="#learning-outcomes-key-concepts"
id="toc-learning-outcomes-key-concepts">üéØ Learning Outcomes &amp; Key
Concepts</a>
<ul>
<li><a href="#web3-development-concepts-learned"
id="toc-web3-development-concepts-learned"><strong>Web3 Development
Concepts Learned</strong></a></li>
<li><a href="#technical-skills-developed"
id="toc-technical-skills-developed"><strong>Technical Skills
Developed</strong></a></li>
</ul></li>
<li><a href="#additional-resources-for-continued-learning"
id="toc-additional-resources-for-continued-learning">üìñ Additional
Resources for Continued Learning</a>
<ul>
<li><a href="#web3-development" id="toc-web3-development"><strong>Web3
Development</strong></a></li>
<li><a href="#next.js-react" id="toc-next.js-react"><strong>Next.js
&amp; React</strong></a></li>
<li><a href="#security-best-practices-1"
id="toc-security-best-practices-1"><strong>Security &amp; Best
Practices</strong></a></li>
</ul></li>
<li><a href="#conclusion" id="toc-conclusion">üéâ Conclusion</a></li>
</ul></li>
</ul>
</nav>
<h1 id="gonftme---complete-learning-guide">GoNFTme - Complete Learning
Guide</h1>
<p><em>A Comprehensive Deep Dive into Web3 Crowdfunding with NFT
Rewards</em></p>
<hr />
<h2 id="table-of-contents">üìö Table of Contents</h2>
<ol type="1">
<li><a href="#technology-stack-overview">Technology Stack
Overview</a></li>
<li><a href="#high-level-application-overview">High-Level Application
Overview</a></li>
<li><a href="#deep-dive-how-the-application-works">Deep Dive: How the
Application Works</a></li>
<li><a href="#project-structure--architecture">Project Structure &amp;
Architecture</a></li>
<li><a href="#complete-file-reference">Complete File Reference</a></li>
<li><a href="#security--best-practices">Security &amp; Best
Practices</a></li>
<li><a href="#deployment--production-considerations">Deployment &amp;
Production Considerations</a></li>
</ol>
<hr />
<h2 id="technology-stack-overview">üõ†Ô∏è Technology Stack Overview</h2>
<h3 id="frontend-technologies"><strong>Frontend
Technologies</strong></h3>
<h4 id="next.js-15.4.6"><strong>Next.js 15.4.6</strong></h4>
<ul>
<li><strong>Purpose</strong>: React framework for production-ready web
applications</li>
<li><strong>Why Used</strong>: Server-side rendering, API routes,
optimized builds, excellent developer experience</li>
<li><strong>Key Features</strong>: App Router, automatic code splitting,
image optimization, built-in CSS support</li>
</ul>
<h4 id="react-18"><strong>React 18</strong></h4>
<ul>
<li><strong>Purpose</strong>: User interface library for building
interactive components</li>
<li><strong>Why Used</strong>: Component-based architecture, hooks for
state management, excellent ecosystem</li>
<li><strong>Key Features</strong>: Functional components, useState,
useEffect, custom hooks</li>
</ul>
<h4 id="typescript"><strong>TypeScript</strong></h4>
<ul>
<li><strong>Purpose</strong>: Statically typed JavaScript for better
development experience</li>
<li><strong>Why Used</strong>: Catch errors at compile time, better IDE
support, improved code documentation</li>
<li><strong>Key Features</strong>: Type safety, interfaces, generics,
enhanced autocomplete</li>
</ul>
<h4 id="tailwind-css"><strong>Tailwind CSS</strong></h4>
<ul>
<li><strong>Purpose</strong>: Utility-first CSS framework for rapid UI
development</li>
<li><strong>Why Used</strong>: Consistent design system, responsive
design, small bundle size</li>
<li><strong>Key Features</strong>: Utility classes, responsive
modifiers, dark mode support</li>
</ul>
<h3 id="web3-blockchain-technologies"><strong>Web3 &amp; Blockchain
Technologies</strong></h3>
<h4 id="wagmi-2.12.17"><strong>Wagmi 2.12.17</strong></h4>
<ul>
<li><strong>Purpose</strong>: React hooks library for Ethereum
development</li>
<li><strong>Why Used</strong>: Simplified Web3 integration, excellent
TypeScript support, hooks-based architecture</li>
<li><strong>Key Features</strong>: <code>useAccount</code>,
<code>useWriteContract</code>, <code>useReadContract</code>,
<code>useWaitForTransactionReceipt</code></li>
</ul>
<h4 id="viem-2.21.19"><strong>Viem 2.21.19</strong></h4>
<ul>
<li><strong>Purpose</strong>: Low-level TypeScript library for
Ethereum</li>
<li><strong>Why Used</strong>: Type-safe Ethereum interactions, better
performance than ethers.js</li>
<li><strong>Key Features</strong>: Contract interactions, transaction
handling, chain management</li>
</ul>
<h4 id="ethers.js-6.13.4"><strong>Ethers.js 6.13.4</strong></h4>
<ul>
<li><strong>Purpose</strong>: Ethereum JavaScript library for smart
contract interactions</li>
<li><strong>Why Used</strong>: Mature library for blockchain operations,
excellent documentation</li>
<li><strong>Key Features</strong>: Contract deployment, transaction
signing, provider management</li>
</ul>
<h4 id="base-blockchain"><strong>Base Blockchain</strong></h4>
<ul>
<li><strong>Purpose</strong>: Layer 2 Ethereum scaling solution by
Coinbase</li>
<li><strong>Why Used</strong>: Fast transactions, low fees, excellent
developer tools, growing ecosystem</li>
<li><strong>Key Features</strong>: EVM compatibility, Base Sepolia
testnet, BaseScan explorer</li>
</ul>
<h3 id="smart-contract-technologies"><strong>Smart Contract
Technologies</strong></h3>
<h4 id="solidity-0.8.20"><strong>Solidity 0.8.20</strong></h4>
<ul>
<li><strong>Purpose</strong>: Programming language for Ethereum smart
contracts</li>
<li><strong>Why Used</strong>: Standard for blockchain development,
mature ecosystem, security features</li>
<li><strong>Key Features</strong>: Contract inheritance, events,
modifiers, error handling</li>
</ul>
<h4 id="hardhat"><strong>Hardhat</strong></h4>
<ul>
<li><strong>Purpose</strong>: Ethereum development environment for
testing and deployment</li>
<li><strong>Why Used</strong>: Local blockchain simulation, contract
compilation, testing framework</li>
<li><strong>Key Features</strong>: Local network, contract verification,
deployment scripts</li>
</ul>
<h4 id="openzeppelin-contracts-5.1.0"><strong>OpenZeppelin Contracts
5.1.0</strong></h4>
<ul>
<li><strong>Purpose</strong>: Secure, community-audited smart contract
library</li>
<li><strong>Why Used</strong>: Battle-tested security patterns, standard
implementations</li>
<li><strong>Key Features</strong>: ERC721, Ownable, ReentrancyGuard,
access control</li>
</ul>
<h3 id="authentication-security"><strong>Authentication &amp;
Security</strong></h3>
<h4 id="nextauth.js-4.24.11"><strong>NextAuth.js 4.24.11</strong></h4>
<ul>
<li><strong>Purpose</strong>: Authentication library for Next.js
applications</li>
<li><strong>Why Used</strong>: Secure OAuth implementation, session
management, provider integration</li>
<li><strong>Key Features</strong>: Google OAuth, JWT tokens, session
handling, security best practices</li>
</ul>
<h4 id="zod-3.23.8"><strong>Zod 3.23.8</strong></h4>
<ul>
<li><strong>Purpose</strong>: TypeScript-first schema validation
library</li>
<li><strong>Why Used</strong>: Runtime type checking, input validation,
error handling</li>
<li><strong>Key Features</strong>: Schema definition, parsing,
validation, type inference</li>
</ul>
<h3 id="development-testing-tools"><strong>Development &amp; Testing
Tools</strong></h3>
<h4 id="jest"><strong>Jest</strong></h4>
<ul>
<li><strong>Purpose</strong>: JavaScript testing framework</li>
<li><strong>Why Used</strong>: Unit testing, mocking, code coverage,
snapshot testing</li>
<li><strong>Key Features</strong>: Test suites, assertions, mocking,
coverage reports</li>
</ul>
<h4 id="playwright"><strong>Playwright</strong></h4>
<ul>
<li><strong>Purpose</strong>: End-to-end testing framework</li>
<li><strong>Why Used</strong>: Cross-browser testing, reliable
automation, visual testing</li>
<li><strong>Key Features</strong>: Browser automation, screenshot
comparison, network mocking</li>
</ul>
<h4 id="sonarqube"><strong>SonarQube</strong></h4>
<ul>
<li><strong>Purpose</strong>: Static code analysis for quality and
security</li>
<li><strong>Why Used</strong>: Code quality metrics, security
vulnerability detection, technical debt analysis</li>
<li><strong>Key Features</strong>: Quality gates, security hotspots,
code coverage analysis</li>
</ul>
<h4 id="eslint"><strong>ESLint</strong></h4>
<ul>
<li><strong>Purpose</strong>: JavaScript linting tool for code
quality</li>
<li><strong>Why Used</strong>: Consistent code style, error prevention,
best practices enforcement</li>
<li><strong>Key Features</strong>: Rule configuration, auto-fixing,
plugin ecosystem</li>
</ul>
<h3 id="utility-libraries"><strong>Utility Libraries</strong></h3>
<h4 id="lucide-react-0.456.0"><strong>Lucide React 0.456.0</strong></h4>
<ul>
<li><strong>Purpose</strong>: Beautiful, customizable SVG icons</li>
<li><strong>Why Used</strong>: Consistent icon system, tree-shakeable,
excellent design</li>
<li><strong>Key Features</strong>: 1000+ icons, customizable,
lightweight</li>
</ul>
<h4 id="react-hot-toast-2.4.1"><strong>React Hot Toast
2.4.1</strong></h4>
<ul>
<li><strong>Purpose</strong>: Notification system for React
applications</li>
<li><strong>Why Used</strong>: User feedback, transaction status, error
notifications</li>
<li><strong>Key Features</strong>: Toast notifications, promise
integration, customizable styling</li>
</ul>
<h4 id="clsx-2.1.1"><strong>Clsx 2.1.1</strong></h4>
<ul>
<li><strong>Purpose</strong>: Utility for constructing className strings
conditionally</li>
<li><strong>Why Used</strong>: Dynamic CSS classes, conditional styling,
clean code</li>
<li><strong>Key Features</strong>: Conditional classes, object syntax,
array support</li>
</ul>
<hr />
<h2 id="high-level-application-overview">üèóÔ∏è High-Level Application
Overview</h2>
<h3 id="what-is-gonftme"><strong>What is GoNFTme?</strong></h3>
<p>GoNFTme is a <strong>decentralized crowdfunding platform</strong>
built on the Base blockchain that revolutionizes fundraising by:</p>
<ol type="1">
<li><strong>Creating Campaigns</strong>: Users set funding goals with
custom images and descriptions</li>
<li><strong>NFT Rewards</strong>: Every donation automatically mints a
unique NFT as proof of contribution</li>
<li><strong>Dynamic Rarity</strong>: NFT rarity is determined by
donation patterns (fewer donors = rarer NFTs)</li>
<li><strong>Instant Funding</strong>: Funds transfer directly to
campaign creators immediately</li>
<li><strong>Transparent Progress</strong>: Real-time tracking of
campaign progress and donor leaderboards</li>
</ol>
<h3 id="core-value-propositions"><strong>Core Value
Propositions</strong></h3>
<h4 id="for-campaign-creators"><strong>For Campaign
Creators</strong></h4>
<ul>
<li>‚úÖ <strong>Immediate Funding</strong>: No waiting periods, funds
available instantly</li>
<li>‚úÖ <strong>Global Reach</strong>: Accessible to anyone with a crypto
wallet</li>
<li>‚úÖ <strong>Creator NFT</strong>: Receive a special NFT badge for
starting campaigns</li>
<li>‚úÖ <strong>Low Fees</strong>: Minimal blockchain transaction costs
on Base</li>
</ul>
<h4 id="for-donors"><strong>For Donors</strong></h4>
<ul>
<li>‚úÖ <strong>NFT Rewards</strong>: Unique digital collectibles for
every donation</li>
<li>‚úÖ <strong>Dynamic Rarity</strong>: Early supporters get rarer
NFTs</li>
<li>‚úÖ <strong>Transparency</strong>: All transactions visible on
blockchain</li>
<li>‚úÖ <strong>Social Proof</strong>: Public donation history and
leaderboards</li>
</ul>
<h4 id="for-the-ecosystem"><strong>For the Ecosystem</strong></h4>
<ul>
<li>‚úÖ <strong>Decentralized</strong>: No central authority controlling
funds</li>
<li>‚úÖ <strong>Programmable</strong>: Smart contracts ensure automatic
execution</li>
<li>‚úÖ <strong>Composable</strong>: Can integrate with other DeFi
protocols</li>
<li>‚úÖ <strong>Auditable</strong>: All transactions permanently recorded
on blockchain</li>
</ul>
<hr />
<h2 id="deep-dive-how-the-application-works">üîç Deep Dive: How the
Application Works</h2>
<h3 id="smart-contract-architecture"><strong>1. Smart Contract
Architecture</strong></h3>
<h4
id="campaignfactory.sol---the-core-contract"><strong>CampaignFactory.sol
- The Core Contract</strong></h4>
<p>The heart of GoNFTme is a single smart contract that handles:</p>
<p><strong>Data Structures:</strong></p>
<pre class="solidity"><code>struct Campaign {
    uint256 id;              // Unique campaign identifier
    string title;            // Campaign name
    string description;      // Campaign details
    string imageUri;         // IPFS image reference
    uint256 goalAmount;      // Funding target in wei
    uint256 raisedAmount;    // Current funding in wei
    address payable creator; // Campaign creator&#39;s wallet
    address payable recipient; // Funds recipient (can be different)
    bool isActive;           // Campaign status
    uint256 createdAt;       // Creation timestamp
    uint256 totalDonors;     // Number of unique donors
}

struct Donation {
    uint256 campaignId;      // Which campaign
    address donor;           // Donor&#39;s wallet address
    uint256 amount;          // Donation amount in wei
    uint256 timestamp;       // When donation was made
    uint256 tokenId;         // Associated NFT token ID
    uint256 donorNumber;     // Donor sequence (1 of X)
}</code></pre>
<p><strong>Key Functions:</strong></p>
<ol type="1">
<li><strong><code>createCampaign()</code></strong>
<ul>
<li>Creates new campaign with validation</li>
<li>Mints creator NFT automatically</li>
<li>Emits <code>CampaignCreated</code> event</li>
<li>Stores campaign in mapping</li>
</ul></li>
<li><strong><code>donate()</code></strong>
<ul>
<li>Accepts ETH donations</li>
<li>Mints donor NFT with custom metadata</li>
<li>Updates campaign progress</li>
<li>Transfers funds immediately</li>
<li>Records donation history</li>
<li>Emits <code>DonationMade</code> event</li>
</ul></li>
<li><strong><code>getActiveCampaigns()</code></strong>
<ul>
<li>Returns all active campaigns</li>
<li>Filters out paused/completed campaigns</li>
<li>Used for homepage display</li>
</ul></li>
<li><strong><code>getUserNFTs()</code></strong>
<ul>
<li>Returns all NFT token IDs for a user</li>
<li>Used for ‚ÄúMy NFTs‚Äù page</li>
<li>Includes both creator and donor NFTs</li>
</ul></li>
</ol>
<h3 id="frontend-architecture"><strong>2. Frontend
Architecture</strong></h3>
<h4 id="next.js-app-router-structure"><strong>Next.js App Router
Structure</strong></h4>
<p>The application uses Next.js 13+ App Router for: - <strong>File-based
routing</strong>: Each folder in <code>app/</code> becomes a route -
<strong>Server components</strong>: Default server-side rendering for
performance - <strong>Client components</strong>: Interactive components
marked with <code>'use client'</code> - <strong>API routes</strong>:
Backend functionality in <code>app/api/</code></p>
<h4 id="state-management-strategy"><strong>State Management
Strategy</strong></h4>
<p><strong>Global State (Wagmi)</strong>: - <strong>Wallet
connection</strong>: <code>useAccount()</code> hook provides wallet
state - <strong>Contract interactions</strong>:
<code>useReadContract()</code> and <code>useWriteContract()</code> hooks
- <strong>Transaction status</strong>:
<code>useWaitForTransactionReceipt()</code> for confirmations</p>
<p><strong>Local State (React)</strong>: - <strong>Form data</strong>:
<code>useState()</code> for form inputs and validation - <strong>UI
state</strong>: Loading states, error messages, modal visibility -
<strong>Component state</strong>: Image previews, dropdown menus,
pagination</p>
<p><strong>Server State (React Query)</strong>: -
<strong>Caching</strong>: Automatic caching of blockchain data -
<strong>Background updates</strong>: Keeps data fresh without user
intervention - <strong>Error handling</strong>: Retry logic and error
boundaries</p>
<h3 id="data-flow-architecture"><strong>3. Data Flow
Architecture</strong></h3>
<h4 id="campaign-creation-flow"><strong>Campaign Creation
Flow</strong></h4>
<pre class="mermaid"><code>graph TD
    A[User fills form] --&gt; B[Client validation with Zod]
    B --&gt; C[Image upload to IPFS]
    C --&gt; D[Smart contract call: createCampaign]
    D --&gt; E[Transaction confirmation]
    E --&gt; F[Creator NFT minted automatically]
    F --&gt; G[Campaign appears on homepage]
    G --&gt; H[Creator receives NFT in wallet]</code></pre>
<h4 id="donation-flow"><strong>Donation Flow</strong></h4>
<pre class="mermaid"><code>graph TD
    A[User enters donation amount] --&gt; B[Client validation]
    B --&gt; C[Generate donor NFT metadata]
    C --&gt; D[Smart contract call: donate]
    D --&gt; E[ETH transferred to recipient]
    E --&gt; F[Donor NFT minted with metadata]
    F --&gt; G[Campaign progress updated]
    G --&gt; H[Donation recorded in history]
    H --&gt; I[Donor receives NFT]</code></pre>
<h4 id="nft-generation-flow"><strong>NFT Generation Flow</strong></h4>
<pre class="mermaid"><code>graph TD
    A[Campaign image uploaded] --&gt; B[Stored in localStorage/IPFS]
    B --&gt; C[Creator NFT: Image + overlay text]
    C --&gt; D[Donor NFT: Same image + donor overlay]
    D --&gt; E[SVG generation with campaign background]
    E --&gt; F[Metadata JSON creation]
    F --&gt; G[Blockchain storage via smart contract]</code></pre>
<h3 id="blockchain-integration-deep-dive"><strong>4. Blockchain
Integration Deep Dive</strong></h3>
<h4 id="wagmi-configuration"><strong>Wagmi Configuration</strong></h4>
<div class="sourceCode" id="cb5"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="kw">const</span> config <span class="op">=</span> <span class="fu">createConfig</span>({</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  chains<span class="op">:</span> [base<span class="op">,</span> baseSepolia]<span class="op">,</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  connectors<span class="op">:</span> [</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coinbaseWallet</span>({</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>      appName<span class="op">:</span> <span class="st">&#39;GoNFTme&#39;</span><span class="op">,</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>      appLogoUrl<span class="op">:</span> <span class="st">&#39;https://goNFTme.com/logo.png&#39;</span><span class="op">,</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">injected</span>()<span class="op">,</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">walletConnect</span>({ projectId })</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  transports<span class="op">:</span> {</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    [base<span class="op">.</span><span class="at">id</span>]<span class="op">:</span> <span class="fu">http</span>()<span class="op">,</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    [baseSepolia<span class="op">.</span><span class="at">id</span>]<span class="op">:</span> <span class="fu">http</span>()<span class="op">,</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  ssr<span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
<p><strong>Key Components:</strong> - <strong>Chains</strong>: Base
mainnet and Sepolia testnet support - <strong>Connectors</strong>:
Multiple wallet options for user choice - <strong>Transports</strong>:
HTTP providers for blockchain communication - <strong>SSR</strong>:
Server-side rendering compatibility</p>
<h4 id="contract-interaction-patterns"><strong>Contract Interaction
Patterns</strong></h4>
<p><strong>Reading Data:</strong></p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> { data<span class="op">:</span> campaigns } <span class="op">=</span> <span class="fu">useReadContract</span>({</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  address<span class="op">:</span> CONTRACT_ADDRESSES[baseSepolia<span class="op">.</span><span class="at">id</span>]<span class="op">,</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  abi<span class="op">:</span> CAMPAIGN_FACTORY_ABI<span class="op">,</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  functionName<span class="op">:</span> <span class="st">&#39;getActiveCampaigns&#39;</span><span class="op">,</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
<p><strong>Writing Data:</strong></p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> { writeContract } <span class="op">=</span> <span class="fu">useWriteContract</span>()</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">writeContract</span>({</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  address<span class="op">:</span> CONTRACT_ADDRESSES[baseSepolia<span class="op">.</span><span class="at">id</span>]<span class="op">,</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  abi<span class="op">:</span> CAMPAIGN_FACTORY_ABI<span class="op">,</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  functionName<span class="op">:</span> <span class="st">&#39;donate&#39;</span><span class="op">,</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  args<span class="op">:</span> [<span class="bu">BigInt</span>(campaignId)<span class="op">,</span> tokenUri]<span class="op">,</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  value<span class="op">:</span> <span class="fu">parseEther</span>(donationAmount)<span class="op">,</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
<p><strong>Transaction Monitoring:</strong></p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> { isLoading<span class="op">,</span> isSuccess } <span class="op">=</span> <span class="fu">useWaitForTransactionReceipt</span>({ hash })</span></code></pre></div>
<h3 id="nft-system-architecture"><strong>5. NFT System
Architecture</strong></h3>
<h4 id="creator-nft-generation"><strong>Creator NFT
Generation</strong></h4>
<p><strong>Smart Contract Side:</strong></p>
<pre class="solidity"><code>string memory creatorTokenUri = string(abi.encodePacked(
    &#39;{&quot;name&quot;:&quot;Creator-&#39;, Strings.toString(campaignId), 
    &#39;&quot;,&quot;image&quot;:&quot;&#39;, _imageUri, 
    &#39;&quot;,&quot;role&quot;:&quot;creator&quot;}&#39; 
));
_setTokenURI(creatorTokenId, creatorTokenUri);</code></pre>
<p><strong>Frontend Enhancement:</strong></p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> dynamicImage <span class="op">=</span> <span class="vs">`data:image/svg+xml,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; viewBox=&#39;0 0 400 400&#39;&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;image href=&#39;</span><span class="sc">${</span>campaign<span class="op">.</span><span class="at">imageUri</span><span class="sc">}</span><span class="vs">&#39; width=&#39;400&#39; height=&#39;400&#39;/&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;rect y=&#39;320&#39; width=&#39;400&#39; height=&#39;80&#39; fill=&#39;rgba(0,0,0,.8)&#39;/&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;text x=&#39;200&#39; y=&#39;350&#39; text-anchor=&#39;middle&#39; fill=&#39;white&#39; font-size=&#39;16&#39;&gt;üèÜ CREATOR&lt;/text&gt;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;text x=&#39;200&#39; y=&#39;370&#39; text-anchor=&#39;middle&#39; fill=&#39;white&#39; font-size=&#39;12&#39;&gt;Goal: </span><span class="sc">${</span>goalAmount<span class="sc">}</span><span class="vs"> ETH&lt;/text&gt;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;/svg&gt;`</span></span></code></pre></div>
<h4 id="donor-nft-generation"><strong>Donor NFT Generation</strong></h4>
<p><strong>Minimal Metadata for Blockchain Efficiency:</strong></p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="cf">return</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>({</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  name<span class="op">:</span> <span class="vs">`Donor-</span><span class="sc">${</span>campaignId<span class="sc">}</span><span class="vs">`</span><span class="op">,</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  image<span class="op">:</span> foundCampaign<span class="op">.</span><span class="at">imageUri</span><span class="op">,</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  role<span class="op">:</span> <span class="st">&quot;donor&quot;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
<p><strong>Design Philosophy:</strong> - <strong>Creator NFTs</strong>:
Enhanced with overlay text (generated in frontend) - <strong>Donor
NFTs</strong>: Minimal metadata (generated during transaction) -
<strong>Both</strong>: Use campaign image as background for visual
consistency</p>
<h3 id="authentication-security-architecture"><strong>6. Authentication
&amp; Security Architecture</strong></h3>
<h4 id="nextauth.js-integration"><strong>NextAuth.js
Integration</strong></h4>
<p><strong>Configuration:</strong></p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> <span class="fu">NextAuth</span>({</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  providers<span class="op">:</span> [</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">GoogleProvider</span>({</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>      clientId<span class="op">:</span> <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">GOOGLE_CLIENT_ID</span><span class="op">!,</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>      clientSecret<span class="op">:</span> <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">GOOGLE_CLIENT_SECRET</span><span class="op">!,</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  callbacks<span class="op">:</span> {</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    signIn<span class="op">:</span> <span class="kw">async</span> ({ user<span class="op">,</span> account<span class="op">,</span> profile }) <span class="kw">=&gt;</span> {</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Restrict access to specific email</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> user<span class="op">.</span><span class="at">email</span> <span class="op">===</span> <span class="st">&#39;joesindel@gmail.com&#39;</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
<p><strong>Security Features:</strong> - <strong>Restricted
Access</strong>: Admin panel limited to specific email - <strong>Session
Management</strong>: Secure JWT tokens - <strong>CSRF
Protection</strong>: Built-in cross-site request forgery protection -
<strong>Secure Cookies</strong>: HTTPOnly, Secure, SameSite
attributes</p>
<h4 id="input-validation-sanitization"><strong>Input Validation &amp;
Sanitization</strong></h4>
<p><strong>Zod Schema Validation:</strong></p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="kw">const</span> campaignSchema <span class="op">=</span> z<span class="op">.</span><span class="fu">object</span>({</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  title<span class="op">:</span> z<span class="op">.</span><span class="fu">string</span>()<span class="op">.</span><span class="fu">min</span>(<span class="dv">1</span><span class="op">,</span> <span class="st">&#39;Title is required&#39;</span>)<span class="op">.</span><span class="fu">max</span>(<span class="dv">100</span><span class="op">,</span> <span class="st">&#39;Title too long&#39;</span>)<span class="op">,</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  description<span class="op">:</span> z<span class="op">.</span><span class="fu">string</span>()<span class="op">.</span><span class="fu">min</span>(<span class="dv">1</span><span class="op">,</span> <span class="st">&#39;Description is required&#39;</span>)<span class="op">.</span><span class="fu">max</span>(<span class="dv">500</span><span class="op">,</span> <span class="st">&#39;Description too long&#39;</span>)<span class="op">,</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  goalAmount<span class="op">:</span> z<span class="op">.</span><span class="fu">string</span>()<span class="op">.</span><span class="fu">refine</span>(val <span class="kw">=&gt;</span> <span class="pp">parseFloat</span>(val) <span class="op">&gt;=</span> <span class="fl">0.00001</span><span class="op">,</span> <span class="st">&#39;Minimum 0.00001 ETH&#39;</span>)<span class="op">,</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  recipientWallet<span class="op">:</span> z<span class="op">.</span><span class="fu">string</span>()<span class="op">.</span><span class="fu">regex</span>(<span class="ss">/</span><span class="sc">^</span><span class="ss">0x</span><span class="sc">[a-fA-F0-9]{40}$</span><span class="ss">/</span><span class="op">,</span> <span class="st">&#39;Invalid wallet address&#39;</span>)<span class="op">,</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
<p><strong>String Sanitization:</strong></p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="kw">function</span> <span class="fu">sanitizeString</span>(input<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> context<span class="op">:</span> <span class="dt">string</span>)<span class="op">:</span> <span class="dt">string</span> {</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Remove all HTML tags</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> sanitized <span class="op">=</span> input<span class="op">.</span><span class="fu">replace</span>(<span class="ss">/&lt;</span><span class="sc">[^&gt;]*</span><span class="ss">&gt;/g</span><span class="op">,</span> <span class="st">&#39;&#39;</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Remove dangerous protocols</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  sanitized <span class="op">=</span> sanitized<span class="op">.</span><span class="fu">replace</span>(<span class="ss">/</span><span class="sc">(</span><span class="ss">javascript</span><span class="sc">|</span><span class="ss">vbscript</span><span class="sc">|</span><span class="ss">data</span><span class="sc">)</span><span class="ss">:/gi</span><span class="op">,</span> <span class="st">&#39;&#39;</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Keep only printable ASCII characters and basic whitespace</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  sanitized <span class="op">=</span> sanitized<span class="op">.</span><span class="fu">replace</span>(<span class="ss">/</span><span class="sc">[^\x20-\x7E\n\r\t]</span><span class="ss">/g</span><span class="op">,</span> <span class="st">&#39;&#39;</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Log security events</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (sanitized <span class="op">!==</span> input) {</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">logValidationFailure</span>(context<span class="op">,</span> <span class="st">&#39;Potentially malicious content removed&#39;</span>)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> sanitized<span class="op">.</span><span class="fu">trim</span>()</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h4 id="security-logging-system"><strong>Security Logging
System</strong></h4>
<p><strong>Centralized Security Events:</strong></p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="kw">function</span> <span class="fu">logAuth</span>(event<span class="op">:</span> <span class="st">&#39;attempt&#39;</span> <span class="op">|</span> <span class="st">&#39;success&#39;</span> <span class="op">|</span> <span class="st">&#39;failure&#39;</span><span class="op">,</span> details<span class="op">:</span> <span class="dt">any</span>) {</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> logEntry <span class="op">=</span> {</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    timestamp<span class="op">:</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toISOString</span>()<span class="op">,</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    eventType<span class="op">:</span> <span class="vs">`auth_</span><span class="sc">${</span><span class="bu">event</span><span class="sc">}</span><span class="vs">`</span><span class="op">,</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    severity<span class="op">:</span> <span class="bu">event</span> <span class="op">===</span> <span class="st">&#39;failure&#39;</span> <span class="op">?</span> <span class="st">&#39;medium&#39;</span> <span class="op">:</span> <span class="st">&#39;low&#39;</span><span class="op">,</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    source<span class="op">:</span> <span class="st">&#39;auth&#39;</span><span class="op">,</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    details<span class="op">,</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    userAgent<span class="op">:</span> <span class="st">&#39;server&#39;</span><span class="op">,</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    ipAddress<span class="op">:</span> <span class="st">&#39;client-side&#39;</span><span class="op">,</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    sessionId<span class="op">:</span> <span class="st">&#39;session-placeholder&#39;</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`[SECURITY LOG - </span><span class="sc">${</span>logEntry<span class="op">.</span><span class="at">severity</span><span class="op">.</span><span class="fu">toUpperCase</span>()<span class="sc">}</span><span class="vs">]`</span><span class="op">,</span> logEntry)</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h3 id="image-storage-ipfs-integration"><strong>7. Image Storage &amp;
IPFS Integration</strong></h3>
<h4 id="development-storage-localstorage"><strong>Development Storage
(localStorage)</strong></h4>
<p><strong>Image Upload Process:</strong></p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="kw">async</span> <span class="kw">function</span> <span class="fu">uploadImageToIPFS</span>(file<span class="op">:</span> <span class="bu">File</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve<span class="op">,</span> reject) <span class="kw">=&gt;</span> {</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> reader <span class="op">=</span> <span class="kw">new</span> <span class="bu">FileReader</span>()</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    reader<span class="op">.</span><span class="at">onload</span> <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> dataUrl <span class="op">=</span> reader<span class="op">.</span><span class="at">result</span> <span class="im">as</span> <span class="dt">string</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> timestamp <span class="op">=</span> <span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>()</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> fileId <span class="op">=</span> <span class="vs">`user-upload-</span><span class="sc">${</span>timestamp<span class="sc">}</span><span class="vs">-</span><span class="sc">${</span>file<span class="op">.</span><span class="at">name</span><span class="op">.</span><span class="fu">replace</span>(<span class="ss">/</span><span class="sc">[^a-zA-Z0-9.]</span><span class="ss">/g</span><span class="op">,</span> <span class="st">&#39;&#39;</span>)<span class="sc">}</span><span class="vs">`</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Store in localStorage for demo</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>      localStorage<span class="op">.</span><span class="fu">setItem</span>(<span class="vs">`image-</span><span class="sc">${</span>fileId<span class="sc">}</span><span class="vs">`</span><span class="op">,</span> dataUrl)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">resolve</span>(fileId)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    reader<span class="op">.</span><span class="fu">readAsDataURL</span>(file)</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><strong>Storage Management:</strong></p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Keep only 3 most recent images to prevent quota issues</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (imageKeys<span class="op">.</span><span class="at">length</span> <span class="op">&gt;=</span> <span class="dv">3</span>) {</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> sortedKeys <span class="op">=</span> imageKeys<span class="op">.</span><span class="fu">toSorted</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> a<span class="op">.</span><span class="fu">localeCompare</span>(b))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  sortedKeys<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> sortedKeys<span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">2</span>)<span class="op">.</span><span class="fu">forEach</span>(key <span class="kw">=&gt;</span> {</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    localStorage<span class="op">.</span><span class="fu">removeItem</span>(key)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h4 id="production-ipfs-integration"><strong>Production IPFS
Integration</strong></h4>
<p><strong>Future Implementation:</strong> - <strong>Pinata</strong>:
Professional IPFS pinning service - <strong>Infura IPFS</strong>:
Reliable IPFS gateway - <strong>Content addressing</strong>: Immutable
image storage - <strong>Gateway redundancy</strong>: Multiple IPFS
gateways for reliability</p>
<hr />
<h2 id="project-structure-architecture">üèõÔ∏è Project Structure &amp;
Architecture</h2>
<h3 id="root-directory-structure"><strong>Root Directory
Structure</strong></h3>
<pre><code>goNFTme/
‚îú‚îÄ‚îÄ app/                    # Next.js App Router pages and API routes
‚îú‚îÄ‚îÄ components/             # Reusable React components
‚îú‚îÄ‚îÄ config/                 # Configuration files
‚îú‚îÄ‚îÄ contracts/              # Solidity smart contracts
‚îú‚îÄ‚îÄ docs/                   # Documentation and guides
‚îú‚îÄ‚îÄ e2e/                    # End-to-end tests
‚îú‚îÄ‚îÄ lib/                    # Core libraries and configurations
‚îú‚îÄ‚îÄ public/                 # Static assets
‚îú‚îÄ‚îÄ scripts/                # Deployment and utility scripts
‚îú‚îÄ‚îÄ test/                   # Smart contract tests
‚îú‚îÄ‚îÄ types/                  # TypeScript type definitions
‚îú‚îÄ‚îÄ utils/                  # Utility functions and helpers
‚îú‚îÄ‚îÄ .env.local              # Environment variables (local)
‚îú‚îÄ‚îÄ .env.example            # Environment template
‚îú‚îÄ‚îÄ package.json            # Dependencies and scripts
‚îî‚îÄ‚îÄ README.md               # Project documentation</code></pre>
<h3 id="architecture-principles"><strong>Architecture
Principles</strong></h3>
<h4 id="separation-of-concerns"><strong>Separation of
Concerns</strong></h4>
<ul>
<li><strong><code>app/</code></strong>: Page components and routing
logic</li>
<li><strong><code>components/</code></strong>: Reusable UI
components</li>
<li><strong><code>utils/</code></strong>: Business logic and helper
functions</li>
<li><strong><code>lib/</code></strong>: Core configurations and
third-party integrations</li>
</ul>
<h4 id="component-design-patterns"><strong>Component Design
Patterns</strong></h4>
<ul>
<li><strong>Atomic Design</strong>: Small, reusable components</li>
<li><strong>Composition</strong>: Building complex UIs from simple
components</li>
<li><strong>Props Interface</strong>: Well-defined component APIs</li>
<li><strong>Error Boundaries</strong>: Graceful error handling</li>
</ul>
<h4 id="state-management-patterns"><strong>State Management
Patterns</strong></h4>
<ul>
<li><strong>Local State</strong>: Component-specific data with
<code>useState</code></li>
<li><strong>Global State</strong>: Wallet and blockchain data with
Wagmi</li>
<li><strong>Server State</strong>: API data with React Query</li>
<li><strong>Form State</strong>: Controlled components with
validation</li>
</ul>
<hr />
<h2 id="complete-file-reference">üìÅ Complete File Reference</h2>
<h3
id="app-directory---next.js-pages-api-routes"><strong><code>app/</code>
Directory - Next.js Pages &amp; API Routes</strong></h3>
<h4 id="pages"><strong>Pages</strong></h4>
<p><strong><code>app/page.tsx</code></strong> - Homepage -
<strong>Purpose</strong>: Landing page displaying active campaigns -
<strong>Key Features</strong>: Campaign grid, navigation header, wallet
connection - <strong>Hooks Used</strong>: <code>useReadContract</code>
for fetching campaigns - <strong>Components</strong>:
<code>CampaignCard</code>, <code>ConnectWallet</code></p>
<p><strong><code>app/create/page.tsx</code></strong> - Campaign Creation
- <strong>Purpose</strong>: Form for creating new crowdfunding campaigns
- <strong>Key Features</strong>: Image upload, form validation,
transaction handling - <strong>Hooks Used</strong>:
<code>useWriteContract</code>, <code>useWaitForTransactionReceipt</code>
- <strong>Validation</strong>: Zod schema validation, file upload
validation - <strong>State Management</strong>: Form data, upload
progress, transaction status</p>
<p><strong><code>app/campaign/[id]/page.tsx</code></strong> - Campaign
Details &amp; Donation - <strong>Purpose</strong>: Individual campaign
page with donation functionality - <strong>Key Features</strong>:
Campaign display, donation form, progress tracking - <strong>Dynamic
Routing</strong>: Uses Next.js dynamic routes <code>[id]</code> -
<strong>NFT Generation</strong>: Creates donor NFT metadata during
donation - <strong>Components</strong>: <code>DonationHistory</code>,
<code>NetworkSwitcher</code>, <code>SafeImage</code></p>
<p><strong><code>app/my-nfts/page.tsx</code></strong> - NFT Collection
Viewer - <strong>Purpose</strong>: Display user‚Äôs NFT collection
(creator and donor NFTs) - <strong>Key Features</strong>: NFT grid,
metadata fetching, image display - <strong>Data Sources</strong>: Smart
contract + API routes for metadata - <strong>NFT Enhancement</strong>:
Generates beautiful creator NFT overlays - <strong>Error
Handling</strong>: Graceful fallbacks for missing data</p>
<p><strong><code>app/admin/page.tsx</code></strong> - Admin Dashboard -
<strong>Purpose</strong>: Campaign management for authorized users -
<strong>Key Features</strong>: Pause/delete campaigns, admin actions -
<strong>Authentication</strong>: NextAuth.js session validation -
<strong>Security</strong>: Restricted to specific email address -
<strong>Logging</strong>: Security event logging for admin actions</p>
<p><strong><code>app/admin/security/page.tsx</code></strong> - Security
Dashboard - <strong>Purpose</strong>: Real-time security monitoring and
metrics - <strong>Key Features</strong>: Security event display, system
health metrics - <strong>Data Sources</strong>: Security logging system
- <strong>Visualization</strong>: Security events, authentication
attempts, validation failures</p>
<h4 id="api-routes"><strong>API Routes</strong></h4>
<p><strong><code>app/api/auth/[...nextauth]/route.ts</code></strong> -
Authentication - <strong>Purpose</strong>: NextAuth.js OAuth handler -
<strong>Provider</strong>: Google OAuth 2.0 - <strong>Security</strong>:
Email-based access restriction - <strong>Logging</strong>:
Authentication attempt logging</p>
<p><strong><code>app/api/nft/[tokenId]/route.ts</code></strong> - NFT
Metadata API - <strong>Purpose</strong>: Fetch NFT metadata from smart
contract - <strong>Process</strong>: Read <code>tokenURI</code> from
contract, parse JSON - <strong>Error Handling</strong>: Graceful
fallbacks for invalid data - <strong>Caching</strong>: Appropriate cache
headers for performance</p>
<p><strong><code>app/api/donation/[tokenId]/route.ts</code></strong> -
Donation Details API - <strong>Purpose</strong>: Fetch individual
donation information - <strong>Data Source</strong>: Smart contract
<code>getDonation</code> function - <strong>Response</strong>: Donation
amount, timestamp, donor address - <strong>Usage</strong>: Donation
history and leaderboards</p>
<h3
id="components-directory---reusable-ui-components"><strong><code>components/</code>
Directory - Reusable UI Components</strong></h3>
<h4 id="core-components"><strong>Core Components</strong></h4>
<p><strong><code>components/ConnectWallet.tsx</code></strong> - Wallet
Connection UI - <strong>Purpose</strong>: Wallet connection dropdown and
management - <strong>Features</strong>: Multiple wallet support,
connection status, account display - <strong>Accessibility</strong>:
Keyboard navigation, ARIA labels, focus management -
<strong>Styling</strong>: Tailwind CSS with hover effects and
animations</p>
<p><strong><code>components/CampaignCard.tsx</code></strong> - Campaign
Display Component - <strong>Purpose</strong>: Individual campaign card
for homepage grid - <strong>Features</strong>: Image display, progress
bar, ETH/USD conversion - <strong>Data</strong>: Campaign title,
description, goal, raised amount - <strong>Navigation</strong>: Links to
campaign detail page</p>
<p><strong><code>components/SafeImage.tsx</code></strong> - Robust Image
Component - <strong>Purpose</strong>: Image component with fallback
handling - <strong>Features</strong>: IPFS URL conversion, error
handling, placeholder fallbacks - <strong>Fallback Chain</strong>: IPFS
‚Üí localStorage ‚Üí picsum.photos ‚Üí placeholder SVG -
<strong>Performance</strong>: Lazy loading, optimized rendering</p>
<p><strong><code>components/NetworkSwitcher.tsx</code></strong> -
Network Management - <strong>Purpose</strong>: Prompt users to switch to
correct blockchain network - <strong>Detection</strong>: Automatically
detects network mismatches - <strong>UX</strong>: Clear instructions and
switch button - <strong>Integration</strong>: Wagmi
<code>useSwitchChain</code> hook</p>
<h4 id="specialized-components"><strong>Specialized
Components</strong></h4>
<p><strong><code>components/DonationHistory.tsx</code></strong> -
Donation Display - <strong>Purpose</strong>: Show campaign donation
history and leaderboards - <strong>Features</strong>: Donor list,
amounts, timestamps, sorting - <strong>Data Source</strong>: Smart
contract donation mappings - <strong>Styling</strong>: Responsive table,
user-friendly formatting</p>
<p><strong><code>components/PiButton.tsx</code></strong> - Admin Access
- <strong>Purpose</strong>: Subtle floating button for admin panel
access - <strong>Design</strong>: Minimalist œÄ symbol, no hover text -
<strong>Security</strong>: Links to Google OAuth sign-in -
<strong>Positioning</strong>: Fixed bottom-right corner</p>
<p><strong><code>components/PageStates.tsx</code></strong> - Reusable
State Components - <strong>Purpose</strong>: Common loading, error, and
authentication states - <strong>Components</strong>:
<code>LoadingPage</code>, <code>ErrorPage</code>,
<code>AuthCheckingPage</code> - <strong>Benefits</strong>: Consistent
UX, reduced code duplication - <strong>Styling</strong>: Centered
layouts with appropriate messaging</p>
<h3 id="lib-directory---core-libraries"><strong><code>lib/</code>
Directory - Core Libraries</strong></h3>
<p><strong><code>lib/web3.ts</code></strong> - Web3 Configuration Hub -
<strong>Purpose</strong>: Centralized Web3 setup and contract
definitions - <strong>Exports</strong>: Wagmi config, contract
addresses, ABI definitions - <strong>Networks</strong>: Base mainnet and
Sepolia testnet support - <strong>ABI</strong>: Complete smart contract
interface definitions</p>
<p><strong><code>lib/env.ts</code></strong> - Environment Variable
Management - <strong>Purpose</strong>: Type-safe environment variable
loading - <strong>Validation</strong>: Ensures required variables are
present - <strong>Factory Pattern</strong>: Immutable environment object
creation - <strong>Error Handling</strong>: Clear error messages for
missing variables</p>
<h3 id="utils-directory---utility-functions"><strong><code>utils/</code>
Directory - Utility Functions</strong></h3>
<h4 id="blockchain-utilities"><strong>Blockchain Utilities</strong></h4>
<p><strong><code>utils/format.ts</code></strong> - Data Formatting -
<strong>Purpose</strong>: Format blockchain data for display -
<strong>Functions</strong>: <code>formatEther</code>,
<code>parseEthAmount</code>, <code>formatProgress</code> -
<strong>BigInt Handling</strong>: Safe conversion between BigInt and
numbers - <strong>Precision</strong>: Appropriate decimal places for
different contexts</p>
<p><strong><code>utils/currency.ts</code></strong> - Currency Conversion
- <strong>Purpose</strong>: ETH to USD conversion using CoinGecko API -
<strong>Features</strong>: Real-time price fetching, caching, error
handling - <strong>Hook</strong>: <code>useEthToUsd</code> for React
components - <strong>Fallbacks</strong>: Default prices when API
unavailable</p>
<h4 id="validation-security"><strong>Validation &amp;
Security</strong></h4>
<p><strong><code>utils/validation.ts</code></strong> - Input Validation
&amp; Sanitization - <strong>Purpose</strong>: Zod schemas and security
functions - <strong>Schemas</strong>: Campaign creation, donation, file
upload validation - <strong>Sanitization</strong>: HTML removal,
dangerous protocol filtering - <strong>Security</strong>: Logging of
validation failures and suspicious activity</p>
<p><strong><code>utils/security-logger.ts</code></strong> - Security
Event Logging - <strong>Purpose</strong>: Centralized security event
tracking - <strong>Events</strong>: Authentication, validation failures,
admin actions - <strong>Severity Levels</strong>: Low, medium, high,
critical - <strong>Integration</strong>: Used throughout application for
security monitoring</p>
<h4 id="nft-image-processing"><strong>NFT &amp; Image
Processing</strong></h4>
<p><strong><code>utils/nft-generator.ts</code></strong> - NFT Metadata
Generation - <strong>Purpose</strong>: Create NFT metadata structures -
<strong>Functions</strong>: <code>generateCreatorNFT</code>,
<code>generateDonorNFT</code> - <strong>Features</strong>: ENS
resolution, dynamic content, attribute generation -
<strong>Fallbacks</strong>: Simple SVG generation for testing</p>
<p><strong><code>utils/nft-image-generator.ts</code></strong> - Dynamic
NFT Images - <strong>Purpose</strong>: Generate SVG images with overlays
- <strong>Process</strong>: Campaign image + text overlay + compression
- <strong>Optimization</strong>: Multiple quality levels, size limits -
<strong>Blockchain</strong>: Ultra-compact SVG for on-chain storage</p>
<p><strong><code>utils/ipfs.ts</code></strong> - Image Storage
Management - <strong>Purpose</strong>: Handle image uploads and
retrieval - <strong>Development</strong>: localStorage-based demo
implementation - <strong>Production Ready</strong>: IPFS integration
structure - <strong>Features</strong>: Quota management, URL conversion,
error handling</p>
<h4 id="wallet-transaction-utilities"><strong>Wallet &amp; Transaction
Utilities</strong></h4>
<p><strong><code>utils/wallet.ts</code></strong> - Wallet Interaction
Helpers - <strong>Purpose</strong>: Common wallet operations and error
handling - <strong>Functions</strong>:
<code>validateWalletConnection</code>, <code>handleContractError</code>
- <strong>Integration</strong>: Security logging for wallet events -
<strong>UX</strong>: User-friendly error messages and loading states</p>
<h3
id="contracts-directory---smart-contracts"><strong><code>contracts/</code>
Directory - Smart Contracts</strong></h3>
<p><strong><code>contracts/CampaignFactory.sol</code></strong> - Main
Smart Contract - <strong>Purpose</strong>: Core crowdfunding and NFT
logic - <strong>Inheritance</strong>: ERC721URIStorage, Ownable,
ReentrancyGuard - <strong>Features</strong>: Campaign management, NFT
minting, donation handling - <strong>Security</strong>: Reentrancy
protection, input validation, access control - <strong>Events</strong>:
Comprehensive event emission for frontend integration</p>
<h3
id="config-directory---configuration-files"><strong><code>config/</code>
Directory - Configuration Files</strong></h3>
<p><strong><code>config/hardhat.config.js</code></strong> - Blockchain
Development - <strong>Purpose</strong>: Hardhat configuration for smart
contract development - <strong>Networks</strong>: Local, Base Sepolia
testnet configuration - <strong>Compilation</strong>: Solidity compiler
settings - <strong>Paths</strong>: Contract and artifact directory
configuration</p>
<p><strong><code>config/jest.config.js</code></strong> - Testing
Configuration - <strong>Purpose</strong>: Jest testing framework setup -
<strong>Environment</strong>: jsdom for React component testing -
<strong>Mocking</strong>: Module mocks for Web3 libraries -
<strong>Coverage</strong>: LCOV reporting for SonarQube integration</p>
<p><strong><code>config/next.config.js</code></strong> - Next.js
Configuration - <strong>Purpose</strong>: Next.js application
configuration - <strong>Images</strong>: Remote pattern configuration
for IPFS - <strong>Security</strong>: Security headers, CORS
configuration - <strong>Performance</strong>: Build optimization
settings</p>
<p><strong><code>config/tailwind.config.js</code></strong> - Styling
Configuration - <strong>Purpose</strong>: Tailwind CSS customization -
<strong>Theme</strong>: Custom colors, fonts, spacing -
<strong>Content</strong>: File paths for CSS purging -
<strong>Plugins</strong>: Additional Tailwind functionality</p>
<h3
id="scripts-directory---automation-scripts"><strong><code>scripts/</code>
Directory - Automation Scripts</strong></h3>
<p><strong><code>scripts/deploy.js</code></strong> - Smart Contract
Deployment - <strong>Purpose</strong>: Foolproof contract deployment to
any network - <strong>Features</strong>: Environment validation, balance
checking, verification - <strong>Automation</strong>: Frontend
configuration updates - <strong>Logging</strong>: Comprehensive
deployment reporting</p>
<p><strong><code>scripts/setup.js</code></strong> - Development
Environment Setup - <strong>Purpose</strong>: Interactive setup for new
developers - <strong>Process</strong>: Environment variable
configuration, wallet generation - <strong>Validation</strong>: API key
testing, network connectivity - <strong>User Experience</strong>:
Step-by-step guidance with clear instructions</p>
<h3 id="test-e2e-directories---testing"><strong><code>test/</code> &amp;
<code>e2e/</code> Directories - Testing</strong></h3>
<h4 id="unit-tests-components__tests__-utils__tests__"><strong>Unit
Tests (<code>components/__tests__/</code>,
<code>utils/__tests__/</code>)</strong></h4>
<p><strong>Testing Strategy:</strong> - <strong>Component
Tests</strong>: React component rendering and interaction -
<strong>Utility Tests</strong>: Business logic and helper functions -
<strong>Security Tests</strong>: Input validation and sanitization -
<strong>Integration Tests</strong>: API route testing</p>
<p><strong>Key Test Files:</strong> -
<strong><code>CampaignCard.test.tsx</code></strong>: Campaign display
component - <strong><code>SafeImage.test.tsx</code></strong>: Image
fallback handling - <strong><code>validation.test.ts</code></strong>:
Input validation and sanitization -
<strong><code>nft-generator.test.ts</code></strong>: NFT metadata
generation</p>
<h4 id="end-to-end-tests-e2e"><strong>End-to-End Tests
(<code>e2e/</code>)</strong></h4>
<p><strong><code>e2e/functionality.spec.ts</code></strong> - Complete
User Flows - <strong>Purpose</strong>: Test entire user journeys -
<strong>Scenarios</strong>: Homepage navigation, form validation,
authentication - <strong>Tools</strong>: Playwright for browser
automation - <strong>Coverage</strong>: Critical user paths and error
scenarios</p>
<h3
id="types-directory---typescript-definitions"><strong><code>types/</code>
Directory - TypeScript Definitions</strong></h3>
<p><strong><code>types/index.ts</code></strong> - Core Type Definitions
- <strong>Purpose</strong>: Centralized TypeScript interfaces -
<strong>Interfaces</strong>: <code>Campaign</code>,
<code>Donation</code>, <code>CreateCampaignForm</code>,
<code>NFTMetadata</code> - <strong>Benefits</strong>: Type safety, IDE
autocomplete, documentation - <strong>Consistency</strong>: Shared types
across frontend and backend</p>
<hr />
<h2 id="security-best-practices">üîí Security &amp; Best Practices</h2>
<h3 id="smart-contract-security"><strong>Smart Contract
Security</strong></h3>
<h4 id="openzeppelin-integration"><strong>OpenZeppelin
Integration</strong></h4>
<pre class="solidity"><code>contract CampaignFactory is ERC721URIStorage, Ownable, ReentrancyGuard {
    // ReentrancyGuard prevents reentrancy attacks
    // Ownable provides access control
    // ERC721URIStorage for NFT functionality
}</code></pre>
<h4 id="input-validation"><strong>Input Validation</strong></h4>
<pre class="solidity"><code>require(_goalAmount &gt; 0, &quot;Goal amount must be greater than 0&quot;);
require(_goalAmount &lt;= 1000 ether, &quot;Goal amount too large&quot;);
require(bytes(_title).length &gt; 0, &quot;Title cannot be empty&quot;);
require(bytes(_title).length &lt;= 200, &quot;Title too long&quot;);</code></pre>
<h4 id="access-control"><strong>Access Control</strong></h4>
<pre class="solidity"><code>modifier onlyOwner() {
    require(msg.sender == owner(), &quot;Not the owner&quot;);
    _;
}</code></pre>
<h3 id="frontend-security"><strong>Frontend Security</strong></h3>
<h4 id="input-sanitization"><strong>Input Sanitization</strong></h4>
<ul>
<li><strong>HTML Removal</strong>: Strip all HTML tags from user
input</li>
<li><strong>XSS Prevention</strong>: Remove dangerous protocols and
scripts</li>
<li><strong>SQL Injection</strong>: Parameterized queries (when database
added)</li>
<li><strong>CSRF Protection</strong>: NextAuth.js built-in
protection</li>
</ul>
<h4 id="authentication-security-1"><strong>Authentication
Security</strong></h4>
<ul>
<li><strong>OAuth 2.0</strong>: Secure Google authentication</li>
<li><strong>Session Management</strong>: Secure JWT tokens</li>
<li><strong>Access Control</strong>: Email-based admin restrictions</li>
<li><strong>Security Logging</strong>: Comprehensive audit trail</li>
</ul>
<h4 id="network-security"><strong>Network Security</strong></h4>
<ul>
<li><strong>HTTPS Only</strong>: Secure communication in production</li>
<li><strong>CORS Configuration</strong>: Controlled cross-origin
requests</li>
<li><strong>Security Headers</strong>: XSS protection, content type
validation</li>
<li><strong>Rate Limiting</strong>: API abuse prevention</li>
</ul>
<h3 id="owasp-top-10-compliance"><strong>OWASP Top 10
Compliance</strong></h3>
<p>The application addresses all OWASP Top 10 security risks:</p>
<ol type="1">
<li><strong>A01 - Broken Access Control</strong>: ‚úÖ NextAuth.js + email
restrictions</li>
<li><strong>A02 - Cryptographic Failures</strong>: ‚úÖ HTTPS, secure
cookies, JWT tokens</li>
<li><strong>A03 - Injection</strong>: ‚úÖ Input sanitization,
parameterized queries</li>
<li><strong>A04 - Insecure Design</strong>: ‚úÖ Security by design,
threat modeling</li>
<li><strong>A05 - Security Misconfiguration</strong>: ‚úÖ Secure
defaults, configuration management</li>
<li><strong>A06 - Vulnerable Components</strong>: ‚úÖ Regular dependency
updates, audit scanning</li>
<li><strong>A07 - Identification Failures</strong>: ‚úÖ Secure
authentication, session management</li>
<li><strong>A08 - Software Integrity</strong>: ‚úÖ Dependency
verification, secure CI/CD</li>
<li><strong>A09 - Security Logging</strong>: ‚úÖ Comprehensive security
event logging</li>
<li><strong>A10 - Server-Side Request Forgery</strong>: ‚úÖ URL
validation, whitelist approach</li>
</ol>
<hr />
<h2 id="deployment-production-considerations">üöÄ Deployment &amp;
Production Considerations</h2>
<h3 id="environment-setup"><strong>Environment Setup</strong></h3>
<h4 id="required-environment-variables"><strong>Required Environment
Variables</strong></h4>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Blockchain Configuration</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="va">NEXT_PUBLIC_CAMPAIGN_FACTORY_ADDRESS</span><span class="op">=</span>0x...    <span class="co"># Smart contract address</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="va">NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID</span><span class="op">=</span>...      <span class="co"># WalletConnect project ID</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="va">PRIVATE_KEY</span><span class="op">=</span>...                               <span class="co"># Deployment wallet private key</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Authentication</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="va">NEXTAUTH_URL</span><span class="op">=</span>https://yourdomain.com           <span class="co"># Production URL</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="va">NEXTAUTH_SECRET</span><span class="op">=</span>...                           <span class="co"># JWT signing secret</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="va">GOOGLE_CLIENT_ID</span><span class="op">=</span>...                          <span class="co"># Google OAuth client ID</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="va">GOOGLE_CLIENT_SECRET</span><span class="op">=</span>...                      <span class="co"># Google OAuth client secret</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Optional Services</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="va">ALCHEMY_API_KEY</span><span class="op">=</span>...                           <span class="co"># Blockchain RPC provider</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="va">PINATA_API_KEY</span><span class="op">=</span>...                            <span class="co"># IPFS storage service</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="va">SENTRY_DSN</span><span class="op">=</span>...                                <span class="co"># Error tracking</span></span></code></pre></div>
<h3 id="deployment-checklist"><strong>Deployment Checklist</strong></h3>
<h4 id="pre-deployment"><strong>Pre-Deployment</strong></h4>
<ul class="task-list">
<li><label><input type="checkbox" />Run all tests
(<code>npm test</code>)</label></li>
<li><label><input type="checkbox" />Security scan
(<code>npm run security:scan</code>)</label></li>
<li><label><input type="checkbox" />SonarQube quality gate
passing</label></li>
<li><label><input type="checkbox" />Environment variables
configured</label></li>
<li><label><input type="checkbox" />Smart contract deployed to
mainnet</label></li>
<li><label><input type="checkbox" />Contract verified on
BaseScan</label></li>
</ul>
<h4 id="production-deployment"><strong>Production
Deployment</strong></h4>
<ul class="task-list">
<li><label><input type="checkbox" />Domain name registered and
configured</label></li>
<li><label><input type="checkbox" />SSL certificate
installed</label></li>
<li><label><input type="checkbox" />CDN configured for static
assets</label></li>
<li><label><input type="checkbox" />Database setup (if
applicable)</label></li>
<li><label><input type="checkbox" />IPFS service configured</label></li>
<li><label><input type="checkbox" />Monitoring and alerting
setup</label></li>
</ul>
<h4 id="post-deployment"><strong>Post-Deployment</strong></h4>
<ul class="task-list">
<li><label><input type="checkbox" />Smoke tests on
production</label></li>
<li><label><input type="checkbox" />Performance monitoring
active</label></li>
<li><label><input type="checkbox" />Error tracking
configured</label></li>
<li><label><input type="checkbox" />Security monitoring
enabled</label></li>
<li><label><input type="checkbox" />Backup procedures in
place</label></li>
</ul>
<h3 id="performance-optimization"><strong>Performance
Optimization</strong></h3>
<h4 id="frontend-optimization"><strong>Frontend
Optimization</strong></h4>
<ul>
<li><strong>Image Optimization</strong>: Next.js automatic image
optimization</li>
<li><strong>Code Splitting</strong>: Automatic route-based
splitting</li>
<li><strong>Caching</strong>: Aggressive caching for static assets</li>
<li><strong>Bundle Analysis</strong>: Regular bundle size
monitoring</li>
</ul>
<h4 id="blockchain-optimization"><strong>Blockchain
Optimization</strong></h4>
<ul>
<li><strong>Gas Optimization</strong>: Efficient smart contract
patterns</li>
<li><strong>Batch Operations</strong>: Minimize transaction count</li>
<li><strong>Caching</strong>: Cache blockchain data appropriately</li>
<li><strong>Error Handling</strong>: Graceful degradation for network
issues</li>
</ul>
<h3 id="monitoring-maintenance"><strong>Monitoring &amp;
Maintenance</strong></h3>
<h4 id="application-monitoring"><strong>Application
Monitoring</strong></h4>
<ul>
<li><strong>Uptime Monitoring</strong>: Service availability
tracking</li>
<li><strong>Performance Metrics</strong>: Page load times, user
interactions</li>
<li><strong>Error Tracking</strong>: Crash reporting and error
analysis</li>
<li><strong>User Analytics</strong>: Usage patterns and feature
adoption</li>
</ul>
<h4 id="blockchain-monitoring"><strong>Blockchain
Monitoring</strong></h4>
<ul>
<li><strong>Contract Events</strong>: Monitor campaign creation,
donations</li>
<li><strong>Transaction Monitoring</strong>: Track success rates, gas
usage</li>
<li><strong>Network Health</strong>: Base network status monitoring</li>
<li><strong>Security Alerts</strong>: Unusual activity detection</li>
</ul>
<hr />
<h2 id="learning-outcomes-key-concepts">üéØ Learning Outcomes &amp; Key
Concepts</h2>
<h3 id="web3-development-concepts-learned"><strong>Web3 Development
Concepts Learned</strong></h3>
<ol type="1">
<li><strong>Smart Contract Development</strong>
<ul>
<li>Solidity programming language</li>
<li>OpenZeppelin security patterns</li>
<li>Gas optimization techniques</li>
<li>Event emission and monitoring</li>
</ul></li>
<li><strong>Frontend Integration</strong>
<ul>
<li>Wagmi hooks for React</li>
<li>Transaction lifecycle management</li>
<li>Error handling strategies</li>
<li>User experience considerations</li>
</ul></li>
<li><strong>NFT Technology</strong>
<ul>
<li>ERC721 standard implementation</li>
<li>Metadata structure and storage</li>
<li>Dynamic content generation</li>
<li>On-chain vs off-chain data</li>
</ul></li>
<li><strong>Security Best Practices</strong>
<ul>
<li>Input validation and sanitization</li>
<li>Authentication and authorization</li>
<li>Security logging and monitoring</li>
<li>OWASP compliance</li>
</ul></li>
</ol>
<h3 id="technical-skills-developed"><strong>Technical Skills
Developed</strong></h3>
<ol type="1">
<li><strong>Full-Stack Development</strong>
<ul>
<li>Next.js application architecture</li>
<li>TypeScript for type safety</li>
<li>API design and implementation</li>
<li>Database integration patterns</li>
</ul></li>
<li><strong>DevOps &amp; Testing</strong>
<ul>
<li>Automated testing strategies</li>
<li>CI/CD pipeline concepts</li>
<li>Security scanning tools</li>
<li>Performance monitoring</li>
</ul></li>
<li><strong>Blockchain Integration</strong>
<ul>
<li>Wallet connection management</li>
<li>Transaction handling</li>
<li>Network switching</li>
<li>Gas estimation and optimization</li>
</ul></li>
<li><strong>User Experience Design</strong>
<ul>
<li>Responsive web design</li>
<li>Accessibility considerations</li>
<li>Error state handling</li>
<li>Progressive enhancement</li>
</ul></li>
</ol>
<hr />
<h2 id="additional-resources-for-continued-learning">üìñ Additional
Resources for Continued Learning</h2>
<h3 id="web3-development"><strong>Web3 Development</strong></h3>
<ul>
<li><a href="https://ethereum.org/developers/">Ethereum
Documentation</a></li>
<li><a href="https://docs.soliditylang.org/">Solidity
Documentation</a></li>
<li><a href="https://docs.openzeppelin.com/contracts/">OpenZeppelin
Contracts</a></li>
<li><a href="https://wagmi.sh/">Wagmi Documentation</a></li>
</ul>
<h3 id="next.js-react"><strong>Next.js &amp; React</strong></h3>
<ul>
<li><a href="https://nextjs.org/docs">Next.js Documentation</a></li>
<li><a href="https://react.dev/">React Documentation</a></li>
<li><a href="https://www.typescriptlang.org/docs/">TypeScript
Handbook</a></li>
<li><a href="https://tailwindcss.com/docs">Tailwind CSS
Documentation</a></li>
</ul>
<h3 id="security-best-practices-1"><strong>Security &amp; Best
Practices</strong></h3>
<ul>
<li><a href="https://owasp.org/www-project-top-ten/">OWASP Top
10</a></li>
<li><a
href="https://consensys.github.io/smart-contract-best-practices/">Smart
Contract Security</a></li>
<li><a href="https://blog.openzeppelin.com/security-audits/">Web3
Security Best Practices</a></li>
</ul>
<hr />
<h2 id="conclusion">üéâ Conclusion</h2>
<p>Congratulations! You‚Äôve built a complete Web3 crowdfunding platform
with:</p>
<ul>
<li>‚úÖ <strong>Smart Contract</strong>: Secure, efficient,
feature-complete</li>
<li>‚úÖ <strong>Frontend</strong>: Professional, responsive,
user-friendly</li>
<li>‚úÖ <strong>Security</strong>: OWASP compliant, comprehensive
logging</li>
<li>‚úÖ <strong>Testing</strong>: Unit tests, E2E tests, security
scans</li>
<li>‚úÖ <strong>Documentation</strong>: Complete technical
documentation</li>
</ul>
<p>This project demonstrates mastery of: - Modern Web3 development
patterns - Full-stack application architecture - Security-first
development approach - Production-ready code quality</p>
<p><strong>You‚Äôre ready to showcase this to the world!</strong> üöÄ</p>
<hr />
<p><em>Generated on: $(date)</em><br />
<em>Project: GoNFTme - Web3 Crowdfunding with NFT Rewards</em><br />
<em>Author: Learning Journey Documentation</em></p>
</body>
</html>
